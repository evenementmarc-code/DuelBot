Nom : Sauvegarde quotidienne SQLite

sur :
  calendrier :
    - cron : " 0 2 * * * "  # tous les jours Ã  02:00 UTC
  workflow_dispatch :

emplois :
  sauvegarde :
    fonctionne sous : ubuntu-latest

    Ã©tapes :
      - nom : DÃ©pÃ´t de vÃ©rification
        utilisations : actions/checkout@v3

      # ğŸ”¹ Ã‰tape de dÃ©bogage : vÃ©rifiez que le secret est bien lu
      - nom : ClÃ© de dÃ©bogage
        exÃ©cuter : |
          echo "La clÃ© est ${{ secrets.EXPORT_KEY }}"
      # ğŸ”¹ Ã‰tape qui tÃ©lÃ©charge la DB
      - nom : TÃ©lÃ©charger la base de donnÃ©es SQLite
        exÃ©cuter : |
          curl -f "https://laturbine-leaderboard.up.railway.app/export/db?key=${{ secrets.EXPORT_KEY }}" -o scores.db
      # ğŸ”¹ Ã‰tape pour sauvegarder comme artefact
      - nom : Sauvegarde Ã  tÃ©lÃ©charger
        utilise : actions/upload-artifact@v4
        avec :
          nom : sqlite-backup
          chemin : scores.db
